<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Weather</title>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.5/angular.js"></script>
		<script>
			angular.module('weather', [])
				.controller('WeatherCtrl', function($scope,$http) {
					$scope.lookup = function() {
						console.log('lookup() zipcode=', $scope.zipcode);
						$http.get('/zipcode/'+$scope.zipcode).then(function(res) {
							console.log('location =', res.data);
							$scope.location = res.data;
						});
					};
				});
		</script>
	</head>
	<body ng-app="weather">
		<div ng-controller="WeatherCtrl">
			<input ng-model="zipcode">
			<input type="button" value="Lookup" ng-click="lookup()">

			<br><br>
			<pre>{{location | json}}</pre>
		</div>
	</body>
</html>
